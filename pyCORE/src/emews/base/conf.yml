# Base configuration file for the eMews daemon.
# Editing this file could result in breaking eMews or core eMews functionality.

# Init configuration skeleton.  Only used during system initialization.
init:
  readonly: # These K/Vs cannot be overwritten in a config file
    general:
      node_name_length: 32  # max length of a node name (longer names are truncated)
    logging:
      logger_name: emews.base
      message_format: "[%(asctime)s] %(nodename)-12.12s | %(nodeid)-5.5s | %(threadName)-16.16s [%(levelname)-8.8s | %(module)-16.16s | %(funcName)-16.16s]: %(message)s"
      stream: "sys.stdout" # stdout stream
  overrides: # These K/Vs can be overwritten in a config file
    communication:
      hub_broadcast_wait: 60  # max amount of time to wait for broadcast message from hub
      hub_broadcast_max_attempts: 5  # max number of times to wait for hub broadcast
    general: # general eMews daemon options
      node_name: null # name of the node running this instance of eMews
    logging:
      message_level: DEBUG # log messages of this level and above (default)

# System configuration skeleton.  This is the configuration structure after initialization.
system:
  readonly: {}
  overrides:
    communication: # communication related eMews daemon options
      host: 127.0.0.1 # host to bind to (should be localhost or 127.0.0.1, etc)
      port: 32518 # port to use
      connect_timeout: 5 # seconds to wait during connection attempts
      connect_max_attempts: 10 # max connection attempts before giving up
    general: # general eMews daemon options
      service_start_delay: -1 # Delay (seconds) to start services from eMews daemon invocation.
      thread_shutdown_wait: -1 # Delay (seconds) to wait for 'graceful' thread shutdown.  After this wait, continue shut down.
      halt_on_service_exceptions: True # If true, then halt eMews on service-originated exceptions
    hub:
      node_name: n1 # name of the node to act as the hub
      node_address: null # address of the hub (if null, then look it up)
    startup_services: []
